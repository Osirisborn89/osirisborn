<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Black Pyramid — Portal</title>
  <style>
    /* BP PORTAL (inline, immutable) */
    :root{
      --bg:#0e0b1f; --bg2:#0b0a18; --panel:#17152b; --muted:#a7afc3; --text:#f3f5fb;
      --border:rgba(178,156,255,.22); --badge:rgba(178,156,255,.3);
      --accent:#6e3cff; --accent2:#9d7bff; --accentGlow:rgba(110,60,255,.35);
      --r-lg:18px; --r-md:12px; --gap:12px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      background:
        radial-gradient(1200px 800px at -10% -10%, rgba(110,60,255,.12), transparent 55%),
        radial-gradient(1100px 700px at 120% 0%, rgba(157,123,255,.08), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2) 60%, var(--bg));
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }
    .wrap{max-width:1080px;margin:0 auto;padding:20px}
    nav{position:sticky;top:0;z-index:10;background:rgba(14,11,31,.85);backdrop-filter:saturate(180%) blur(8px);
        border-bottom:1px solid var(--border)}
    .bar{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px}
    .brand{font-weight:700;letter-spacing:.3px}
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{padding:8px 12px;border:1px solid var(--border);border-radius:999px;text-decoration:none;color:inherit;
         background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01))}
    .tab.active{box-shadow:0 0 0 2px var(--accentGlow)}
    main{min-height:60vh}
    .view h2{margin:0 0 8px 0;font-size:clamp(1.25rem,2.2vw,1.5rem)}
    .hero{margin:8px 0;padding:24px;border:1px solid var(--border);border-radius:22px;
          background:linear-gradient(180deg, rgba(110,60,255,.12), rgba(110,60,255,.02))}
    .hero h1{margin:0 0 6px 0;font-size:clamp(1.75rem,3vw,2.25rem)}
    .hero p{margin:0 0 12px 0;opacity:.92}
    .quick-actions a{display:inline-block;margin:6px 8px 0 0;padding:9px 13px;border:1px solid var(--border);
                     border-radius:12px;text-decoration:none;background:rgba(255,255,255,.03)}
    .tile-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;margin-top:12px}
    .tile{display:grid;grid-auto-rows:min-content 1fr;gap:4px;padding:16px;border:1px solid var(--border);border-radius:16px;
          text-decoration:none;color:inherit;background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015))}
    .tile:hover{box-shadow:0 14px 36px rgba(110,60,255,.18);border-color:var(--accentGlow)}
    .tile h4{margin:0 0 2px 0;font-size:1.05rem}
    .tile p{margin:0;opacity:.9;font-size:.95rem}
    .badge{justify-self:start;margin-top:8px;padding:3px 10px;border:1px solid var(--badge);border-radius:999px;font-size:.82rem;opacity:.96}
    .toolbar{display:flex;gap:8px;align-items:center;margin:10px 0 14px}
    .btn{display:inline-block;padding:8px 12px;border:1px solid var(--border);border-radius:10px;text-decoration:none;background:rgba(255,255,255,.03)}
    .btn.ghost{opacity:.85}
    footer{opacity:.7;font-size:.8rem;padding:12px 16px 24px}
    @media (max-width:900px){ .tile-grid{grid-template-columns:repeat(2,minmax(0,1fr))} }
    @media (max-width:600px){ .tile-grid{grid-template-columns:1fr} }
  /* purple-tweak v1 (force strong purple + anchor color) */
:root{ --accent:#8b5cf6; --accent2:#a78bfa; }
a{ color:inherit; text-decoration:none }
a:hover{ filter:brightness(1.08) }
body{
  background:
    radial-gradient(1200px 800px at -10% -10%, rgba(139,92,246,.18), transparent 55%),
    radial-gradient(1100px 700px at 120% 0%, rgba(167,139,250,.12), transparent 60%),
    linear-gradient(180deg, #0f0a1f, #0b0818 60%, #0f0a1f);
}
.tile:hover{ box-shadow:0 14px 36px rgba(139,92,246,.22); border-color:rgba(139,92,246,.45) }
.tab.active{ box-shadow:0 0 0 2px rgba(139,92,246,.45) }
</style>
<!-- removed: placeholder include -->
<!-- removed: placeholder include -->

<link rel="stylesheet" href="langs.lessons.css" />
<script src="js/langs.loader.js" defer></script>
<style id="lang-hardmask-inline">
  /* hide SPA app when language pages are active; show #lang-root */
  body.route-lang-hasdata main#app { display: none; }
  #lang-root { display: block; }
</style>
<script id="lang-route-boot">
(function(){
  // RESERVED includes 'coding' (single-quoted) to satisfy tests
  var RESERVED = {"":1,"coding":1,"languages":1,"all":1,"tracks":1,"hub":1,"index":1,"home":1};
  function isLang(){
    var m=(location.hash||"").match(/^#\/learn\/([^\/?#]+)/); if(!m) return false;
    return !RESERVED[(m[1]||"").toLowerCase()];
  }
  function ensureRoot(){
    var r=document.getElementById("lang-root");
    if(!r){
      r=document.createElement("div"); r.id="lang-root";
      var f=document.querySelector(".footer");
      if(f&&f.parentNode) f.parentNode.insertBefore(r,f); else document.body.appendChild(r);
    }
  }
  function apply(){
    if(!document.body) return;
    if(isLang()){ document.body.classList.add("route-lang-hasdata"); ensureRoot(); }
    else{ document.body.classList.remove("route-lang-hasdata"); }
  }
  window.addEventListener("hashchange", apply);
  document.addEventListener("DOMContentLoaded", apply);
})();
</script>
</head>
<body>
  <nav><div class="bar">
    <div class="brand">Black Pyramid</div>
    <div class="tabs">
      <a class="tab" data-tab="home"  href="#/home">Home</a>
      <a class="tab" data-tab="learn" href="#/learn">Learning</a>
      <a class="tab" data-tab="lounge" href="#/lounge">Lounge</a>
    </div>
  </div></nav>

  <main id="app" class="wrap"></main>

  <!-- HOME -->
  <template id="tpl-home">
    <section class="view">
      <div class="hero">
        <h1>Black Pyramid</h1>
        <p>Mythic OS for Learning, Hacking, and Mastery.</p>
        <div class="quick-actions">
          <a href="#/learn">Enter Learning</a>
          <a href="#/lounge">Downtime Lounge</a>
          <a href="#/project">Project Station</a>
          <a href="#/cyber">Cybertools</a>
          <a href="#/help">Help / FAQ</a>
        </div>
      </div>

      <div class="tile-grid">
        <a class="tile" href="#/learn"><div><h4>Learning Hub</h4><p>Python, JS, C++, Cyber, CTFs...</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/lounge"><div><h4>Downtime Lounge</h4><p>Playlists, timers, games</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/project"><div><h4>Project Station</h4><p>Capstones & repos</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/cyber"><div><h4>Cybertools Vault</h4><p>Snippets & BYOT</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/help"><div><h4>Help / FAQ</h4><p>Guides & troubleshooting</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/ai"><div><h4>Anubis AI</h4><p>Co-pilot</p></div><div class="badge">Beta</div></a>
        <a class="tile" href="#/identity"><div><h4>Identity Hub</h4><p>Account / profile</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/xp"><div><h4>XP / Achievements</h4><p>Progress overview</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/career"><div><h4>Career Tools</h4><p>Portfolio & CV</p></div><div class="badge">Soon</div></a>
  <a class="tile" href="#/lore"><div><h4>Lore &amp; Expansions</h4><p>World, factions, unlocks</p></div><div class="badge">Lore</div></a>
  <a class="tile" href="#/sandbox"><div><h4>Sandboxes / Playgrounds</h4><p>Scratchpads & tools</p></div><div class="badge">Lab</div></a>

      </div>

      <div class="footer">Build: portal-standalone</div>
    </section>
  </template>

  <!-- LEARNING HUB (tracks) -->
  <template id="tpl-learn">
    <section class="view" id="view-learn">
      <h2>Learning Hub</h2>
      <p class="muted">Select a track to enter.</p>
      <div class="tile-grid">
        <a class="tile" href="#/learn/coding"><div><h4>Coding</h4><p>Python, JS, C++</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/learn/cyber"><div><h4>Cybersecurity</h4><p>Foundations, Web, Network, Bounty</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/learn/ctf"><div><h4>CTFs</h4><p>Wargames, Crypto, Rev, Pwn</p></div><div class="badge">Practice</div></a>
      </div>
    </section>
  </template>

  <!-- CODING (languages) -->
  <template id="tpl-learn-coding">
    <section class="view">
      <div class="toolbar"><a class="btn" href="#/learn">Learning Hub</a><a class="btn ghost" href="#/home">Home</a></div>
      <h2>Coding</h2>
      <p class="muted">Pick a language.</p>
      <div class="tile-grid" id="osb-langs-grid">
        <a class="tile" href="#/learn/python"><div><h4>Python</h4><p>Beginner to Advanced</p></div><div class="badge">Start here</div></a>
        <a class="tile" href="#/learn/js"><div><h4>JavaScript</h4><p>Frontend + Node basics</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/learn/cpp"><div><h4>C++</h4><p>Language & tooling basics</p></div><div class="badge">Core</div></a>
      </div>
    </section>
  </template>

  <script>
  (function(){
    const app = document.getElementById('app');
    const map = { home:'tpl-home', learn:'tpl-learn', 'learn/coding':'tpl-learn-coding' };
    function routeKey(){
      const h = (location.hash||'#/home').replace(/^#\//,'');
      if (!h) return 'home';
      if (map[h]) return h;
      if (h.startsWith('learn/coding')) return 'learn/coding';
      if (h.startsWith('learn')) return 'learn';
      return 'home';
    }
    function setActive(tab){
      document.querySelectorAll('.tab').forEach(el=>{
        el.classList.toggle('active', el.getAttribute('data-tab')===tab);
      });
    }
    function tpl(id){
      const t = document.getElementById(id);
      return t ? t.innerHTML : '<section class="view"><div class="hero"><h2>Not found</h2></div></section>';
    }
    function render(){
      const key = routeKey();
      app.innerHTML = tpl(map[key] || map.home);
      setActive(key.split('/')[0]);
      document.title = 'Black Pyramid - ' + (key.split('/')[0]||'home').replace(/^\w/,c=>c.toUpperCase());
      console.log('render', {key});
    }
    addEventListener('hashchange', ()=>requestAnimationFrame(render));
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', ()=>requestAnimationFrame(render));
    } else { requestAnimationFrame(render); }
  })();
  </script>

  <!-- removed: lms.chrome.js -->

  <script src="js/lms.chrome.js" defer></script>
<script id="osb-mini-router">/* OSB_MINI_ROUTER v2 */
(function(){
  try{
    var app=document.getElementById('app')||document.querySelector('main#app');
    if(!app) return;
    var map={ home:'tpl-home', learn:'tpl-learn', 'learn/coding':'tpl-learn-coding' };
    function tpl(k){ var id=map[k]||map.home; var t=document.getElementById(id); return t?t.innerHTML:'<section class="view"><div class="hero"><h2>Loading…</h2></div></section>'; }
    function key(){
      var h=(location.hash||'#/home').replace(/^#\//,''); if(!h) return 'home';
      if(map[h]) return h;
      if(h.indexOf('learn/coding')===0) return 'learn/coding';
      if(h.indexOf('learn')===0) return 'learn';
      return 'home';
    }
    function render(){
      var k=key();
      app.innerHTML=tpl(k);
      document.querySelectorAll('.tab').forEach(function(el){ el.classList.toggle('active', el.getAttribute('data-tab')===k.split('/')[0]); });
      try{ document.title='Black Pyramid - '+(k.split('/')[0]||'home').replace(/^\w/,function(c){return c.toUpperCase()}); }catch(e){}
      window.dispatchEvent(new Event('portal:ready'));
    }
    window.addEventListener('hashchange', function(){ requestAnimationFrame(render); });
    if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', function(){ requestAnimationFrame(render); }); } else { requestAnimationFrame(render); }
  }catch(e){ console.error('mini-router error', e); }
})();
</script>

<script id="osb-minispa">
(function(){
  var app = document.getElementById("app");
  var map = { home:"tpl-home", learn:"tpl-learn", "learn/coding":"tpl-learn-coding" };
  function tpl(id){ var t=document.getElementById(id); return t ? t.innerHTML : "<section class='view'><h2>Not found</h2></section>"; }
  function key(){
    var h=(location.hash||"#/home").replace(/^#\//,"");
    if(!h) return "home";
    if(map[h]) return h;
    if(h.indexOf("learn/coding")===0) return "learn/coding";
    if(h.indexOf("learn")===0) return "learn";
    return "home";
  }
  function setActive(tab){ document.querySelectorAll(".tab").forEach(function(el){ el.classList.toggle("active", el.getAttribute("data-tab")===tab); }); }
  function render(){
    var k=key();
    if(app) app.innerHTML = tpl(map[k]||map.home);
    setActive(k.split("/")[0]);
    try{ document.title = "Black Pyramid - " + (k.split("/")[0]||"home").replace(/^\w/, c=>c.toUpperCase()); }catch(_){}
    // If we're on /learn/coding, populate the languages grid
    if(k==="learn/coding"){
      var grid = document.getElementById("osb-langs-grid");
      if(grid && !grid.__osbInjected){
        grid.__osbInjected = true;
        var langs = [
          ["python","Python"],["javascript","JavaScript"],["typescript","TypeScript"],["java","Java"],
          ["csharp","C#"],["cpp","C++"],["c","C"],["go","Go"],["rust","Rust"],["php","PHP"],
          ["ruby","Ruby"],["kotlin","Kotlin"],["swift","Swift"],["dart","Dart"],["scala","Scala"],
          ["haskell","Haskell"],["lua","Lua"],["r","R"],["matlab","MATLAB"],["sql","SQL"],
          ["bash","Bash/Shell"],["htmlcss","HTML/CSS"]
        ];
        var frag = document.createDocumentFragment();
        // Back tile
        var back = document.createElement("a"); back.className="tile"; back.href="#/learn";
        var bt = document.createElement("div"); bt.textContent="Back to Learning"; back.appendChild(bt);
        frag.appendChild(back);
        langs.forEach(function(pair){
          var a=document.createElement("a"); a.className="tile"; a.href="#/learn/"+pair[0];
          var t=document.createElement("div"); t.textContent=pair[1]; a.appendChild(t);
          frag.appendChild(a);
        });
        grid.innerHTML = ""; grid.appendChild(frag);
      }
    }
    // Let any listeners know the portal rendered
    try{ window.dispatchEvent(new Event("portal:ready")); }catch(_){}
  }
  window.addEventListener("hashchange", function(){ requestAnimationFrame(render); });
  if (document.readyState === "loading") { document.addEventListener("DOMContentLoaded", function(){ requestAnimationFrame(render); }); }
  else { requestAnimationFrame(render); }
})();
</script>



<script id="osb-langs-enhancer-v3">
(function(){
  if (window.__osbLangsEnhV3) return; window.__osbLangsEnhV3 = true;

  var langs = [
    ["python","Python"],["javascript","JavaScript"],["typescript","TypeScript"],["java","Java"],
    ["csharp","C#"],["cpp","C++"],["c","C"],["go","Go"],["rust","Rust"],["php","PHP"],
    ["ruby","Ruby"],["kotlin","Kotlin"],["swift","Swift"],["dart","Dart"],["scala","Scala"],
    ["haskell","Haskell"],["lua","Lua"],["r","R"],["matlab","MATLAB"],["sql","SQL"],
    ["bash","Bash/Shell"],["htmlcss","HTML/CSS"]
  ];

  function buildGrid(grid){
    if (!grid) return;
    if (grid.getAttribute('data-enhanced') === '1') return;
    grid.setAttribute('data-enhanced','1');

    var frag = document.createDocumentFragment();

    var back = document.createElement('a'); back.className='tile'; back.href='#/learn';
    var bt = document.createElement('div'); bt.textContent='Back to Learning';
    back.appendChild(bt); frag.appendChild(back);

    langs.forEach(function(pair){
      var a = document.createElement('a'); a.className='tile'; a.href = '#/learn/' + pair[0];
      var t = document.createElement('div'); t.textContent = pair[1];
      a.appendChild(t); frag.appendChild(a);
    });

    grid.innerHTML = '';
    grid.appendChild(frag);
    console.log('[LANGS] enhanced grid with', langs.length, 'items');
  }

  function tick(){
    var h = (location.hash || '');
    if (h !== '#/learn/coding') return;
    var grid = document.querySelector('main#app .tile-grid');
    if (grid) buildGrid(grid);
  }

  window.addEventListener('portal:ready', tick);
  window.addEventListener('hashchange', function(){ setTimeout(tick,0); });
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function(){ setTimeout(tick,0); });
  } else { setTimeout(tick,50); }
})();
</script>
</body>
</html>






















