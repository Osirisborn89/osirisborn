<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Black Pyramid — Portal</title>
  <style>
    /* BP PORTAL (inline, immutable) */
    :root{
      --bg:#0e0b1f; --bg2:#0b0a18; --panel:#17152b; --muted:#a7afc3; --text:#f3f5fb;
      --border:rgba(178,156,255,.22); --badge:rgba(178,156,255,.3);
      --accent:#6e3cff; --accent2:#9d7bff; --accentGlow:rgba(110,60,255,.35);
      --r-lg:18px; --r-md:12px; --gap:12px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      background:
        radial-gradient(1200px 800px at -10% -10%, rgba(110,60,255,.12), transparent 55%),
        radial-gradient(1100px 700px at 120% 0%, rgba(157,123,255,.08), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2) 60%, var(--bg));
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }
    .wrap{max-width:1080px;margin:0 auto;padding:20px}
    nav{position:sticky;top:0;z-index:10;background:rgba(14,11,31,.85);backdrop-filter:saturate(180%) blur(8px);
        border-bottom:1px solid var(--border)}
    .bar{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px}
    .brand{font-weight:700;letter-spacing:.3px}
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{padding:8px 12px;border:1px solid var(--border);border-radius:999px;text-decoration:none;color:inherit;
         background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01))}
    .tab.active{box-shadow:0 0 0 2px var(--accentGlow)}
    main{min-height:60vh}
    .view h2{margin:0 0 8px 0;font-size:clamp(1.25rem,2.2vw,1.5rem)}
    .hero{margin:8px 0;padding:24px;border:1px solid var(--border);border-radius:22px;
          background:linear-gradient(180deg, rgba(110,60,255,.12), rgba(110,60,255,.02))}
    .hero h1{margin:0 0 6px 0;font-size:clamp(1.75rem,3vw,2.25rem)}
    .hero p{margin:0 0 12px 0;opacity:.92}
    .quick-actions a{display:inline-block;margin:6px 8px 0 0;padding:9px 13px;border:1px solid var(--border);
                     border-radius:12px;text-decoration:none;background:rgba(255,255,255,.03)}
    .tile-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;margin-top:12px}
    .tile{display:grid;grid-auto-rows:min-content 1fr;gap:4px;padding:16px;border:1px solid var(--border);border-radius:16px;
          text-decoration:none;color:inherit;background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015))}
    .tile:hover{box-shadow:0 14px 36px rgba(110,60,255,.18);border-color:var(--accentGlow)}
    .tile h4{margin:0 0 2px 0;font-size:1.05rem}
    .tile p{margin:0;opacity:.9;font-size:.95rem}
    .badge{justify-self:start;margin-top:8px;padding:3px 10px;border:1px solid var(--badge);border-radius:999px;font-size:.82rem;opacity:.96}
    .toolbar{display:flex;gap:8px;align-items:center;margin:10px 0 14px}
    .btn{display:inline-block;padding:8px 12px;border:1px solid var(--border);border-radius:10px;text-decoration:none;background:rgba(255,255,255,.03)}
    .btn.ghost{opacity:.85}
    footer{opacity:.7;font-size:.8rem;padding:12px 16px 24px}
    @media (max-width:900px){ .tile-grid{grid-template-columns:repeat(2,minmax(0,1fr))} }
    @media (max-width:600px){ .tile-grid{grid-template-columns:1fr} }
  /* purple-tweak v1 (force strong purple + anchor color) */
:root{ --accent:#8b5cf6; --accent2:#a78bfa; }
a{ color:inherit; text-decoration:none }
a:hover{ filter:brightness(1.08) }
body{
  background:
    radial-gradient(1200px 800px at -10% -10%, rgba(139,92,246,.18), transparent 55%),
    radial-gradient(1100px 700px at 120% 0%, rgba(167,139,250,.12), transparent 60%),
    linear-gradient(180deg, #0f0a1f, #0b0818 60%, #0f0a1f);
}
.tile:hover{ box-shadow:0 14px 36px rgba(139,92,246,.22); border-color:rgba(139,92,246,.45) }
.tab.active{ box-shadow:0 0 0 2px rgba(139,92,246,.45) }
</style>
</head>
<body>
  <nav><div class="bar">
    <div class="brand">Black Pyramid</div>
    <div class="tabs">
      <a class="tab" data-tab="home"  href="#/home">Home</a>
      <a class="tab" data-tab="learn" href="#/learn">Learning</a>
      <a class="tab" data-tab="lounge" href="#/lounge">Lounge</a>
    </div>
  </div></nav>

  <main id="app" class="wrap"></main>

  <!-- HOME -->
  <template id="tpl-home">
    <section class="view">
      <div class="hero">
        <h1>Black Pyramid</h1>
        <p>Mythic OS for Learning, Hacking, and Mastery.</p>
        <div class="quick-actions">
          <a href="#/learn">Enter Learning</a>
          <a href="#/lounge">Downtime Lounge</a>
          <a href="#/project">Project Station</a>
          <a href="#/cyber">Cybertools</a>
          <a href="#/help">Help / FAQ</a>
        </div>
      </div>

      <div class="tile-grid">
        <a class="tile" href="#/learn"><div><h4>Learning Hub</h4><p>Python, JS, C++, Cyber, CTFs…</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/lounge"><div><h4>Downtime Lounge</h4><p>Playlists, timers, games</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/project"><div><h4>Project Station</h4><p>Capstones & repos</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/cyber"><div><h4>Cybertools Vault</h4><p>Snippets & BYOT</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/help"><div><h4>Help / FAQ</h4><p>Guides & troubleshooting</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/ai"><div><h4>Anubis AI</h4><p>Co-pilot</p></div><div class="badge">Beta</div></a>
        <a class="tile" href="#/identity"><div><h4>Identity Hub</h4><p>Account / profile</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/xp"><div><h4>XP / Achievements</h4><p>Progress overview</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/career"><div><h4>Career Tools</h4><p>Portfolio & CV</p></div><div class="badge">Soon</div></a>
  <a class="tile" href="#/lore"><div><h4>Lore &amp; Expansions</h4><p>World, factions, unlocks</p></div><div class="badge">Lore</div></a>
  <a class="tile" href="#/sandbox"><div><h4>Sandboxes / Playgrounds</h4><p>Scratchpads & tools</p></div><div class="badge">Lab</div></a>

      </div>

      <div class="footer">Build: portal-standalone</div>
    </section>
  </template>

  <!-- LEARNING HUB (tracks) -->
  <template id="tpl-learn">
    <section class="view" id="view-learn">
      <h2>Learning Hub</h2>
      <p class="muted">Select a track to enter.</p>
      <div class="tile-grid">
        <a class="tile" href="#/learn"><div><h4>Coding</h4><p>Python, JS, C++</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/learn/cyber"><div><h4>Cybersecurity</h4><p>Foundations, Web, Network, Bounty</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/learn/ctf"><div><h4>CTFs</h4><p>Wargames, Crypto, Rev, Pwn</p></div><div class="badge">Practice</div></a>
      </div>
    </section>
  </template>

  <!-- CODING (languages) -->
  <template id="tpl-learn-coding">
    <section class="view">
      <div class="toolbar"><a class="btn" href="#/learn">← Learning Hub</a><a class="btn ghost" href="#/home">Home</a></div>
      <h2>Coding</h2>
      <p class="muted">Pick a language.</p>
      <div class="tile-grid">
        <a class="tile" href="#/learn/python"><div><h4>Python</h4><p>Beginner → Advanced</p></div><div class="badge">Start here</div></a>
        <a class="tile" href="#/learn/js"><div><h4>JavaScript</h4><p>Frontend + Node basics</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/learn/cpp"><div><h4>C++</h4><p>Language & tooling basics</p></div><div class="badge">Core</div></a>
      </div>
    </section>
  </template>

  






















<script>
/* BP_LEARN_WIRE v9 — intercept 'Coding' on #/learn (capture) + href rewrite */
(function(){
  function isHub(){ return (location.hash||'').toLowerCase() === '#/learn'; }
  function onClickCapture(ev){
    if(!isHub()) return;
    var el = ev.target && ev.target.closest && ev.target.closest('a,button,[role="button"],.tile,.card');
    if(!el) return;
    var txt = (el.innerText || el.textContent || '').replace(/\s+/g,' ').trim();
    if(!/\bcoding\b/i.test(txt)) return;
    ev.preventDefault(); ev.stopPropagation();
    location.hash = '#/learn/languages';
  }
  function rewrite(){
    if(!isHub()) return;
    Array.from(document.querySelectorAll('a,button,[role="button"],.tile,.card')).forEach(function(n){
      if(n.__bpWired) return;
      var txt=(n.innerText||n.textContent||'').replace(/\s+/g,' ').trim();
      if(!/\bcoding\b/i.test(txt)) return;
      var a = (n.tagName==='A')?n:(n.closest?n.closest('a'):null);
      if(a) a.setAttribute('href','#/learn/languages');
      n.__bpWired = true;
    });
  }
  if(!window.__bp_learn_wire_v9){
    window.__bp_learn_wire_v9 = true;
    document.addEventListener('click', onClickCapture, true);
    window.addEventListener('hashchange', ()=>setTimeout(rewrite,0));
    document.addEventListener('DOMContentLoaded', ()=>setTimeout(rewrite,0));
    setTimeout(rewrite,0);
  }
})();
</script>

<script>
/* BP_LANG_PAGE v8 — full-screen overlay for #/learn/languages (own CSS, dark text) */
(function(){
  var HOST_ID='bp-lang-overlay', CSS_ID='bp-lang-css';
  function ensureOverlay(){
    var host=document.getElementById(HOST_ID);
    if(!host){
      host=document.createElement('div'); host.id=HOST_ID;
      host.style.position='fixed'; host.style.inset='0'; host.style.zIndex='2147483647';
      host.style.overflow='auto'; host.style.background='#ffffff'; host.style.color='#111111';
      host.style.fontFamily='system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif'; host.style.lineHeight='1.5';
      document.body.appendChild(host);
    }
    var css=document.getElementById(CSS_ID);
    if(!css){
      css=document.createElement('style'); css.id=CSS_ID; css.textContent=[
        '#'+HOST_ID+' .wrap{max-width:1200px;margin:0 auto;padding:24px;}',
        '#'+HOST_ID+' h1{font-size:28px;margin:0 0 16px 0;font-weight:700;}',
        '#'+HOST_ID+' .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;}',
        '#'+HOST_ID+' a.card{display:block;padding:16px;border:1px solid #e5e7eb;border-radius:12px;background:#f9fafb;text-decoration:none;color:inherit;box-shadow:0 1px 2px rgba(0,0,0,.05);transition:.15s;}',
        '#'+HOST_ID+' a.card:hover{box-shadow:0 4px 12px rgba(0,0,0,.12);transform:translateY(-1px);} ',
        '#'+HOST_ID+' .title{font-weight:600;font-size:16px;}',
        '#'+HOST_ID+' .sub{opacity:.75;font-size:13px;margin-top:4px;}',
        '@media (prefers-color-scheme: dark){ #'+HOST_ID+'{background:#0b0b0f;color:#eaeaea;} #'+HOST_ID+' a.card{background:#13131a;border-color:#1f1f2a;} }'
      ].join('\n'); document.head.appendChild(css);
    }
    return host;
  }
  function removeOverlay(){
    var host=document.getElementById(HOST_ID); if(host&&host.parentElement) host.parentElement.removeChild(host);
    var css=document.getElementById(CSS_ID); if(css&&css.parentElement) css.parentElement.removeChild(css);
  }
  async function getJSON(u){
    var url=(u.startsWith('./')?u:'./'+u)+((u.indexOf('?')>=0?'&':'?')+'bust='+Date.now());
    var r=await fetch(url,{cache:'no-store'}); if(!r.ok) throw new Error('HTTP '+r.status+' '+url); return r.json();
  }
  function card(href,title,sub){
    var a=document.createElement('a'); a.className='card'; a.href=href;
    var t=document.createElement('div'); t.className='title'; t.textContent=title; a.appendChild(t);
    if(sub){ var s=document.createElement('div'); s.className='sub'; s.textContent=sub; a.appendChild(s); }
    return a;
  }
  async function render(){
    var host=ensureOverlay();
    var wrap=document.createElement('div'); wrap.className='wrap';
    var h1=document.createElement('h1'); h1.textContent='Languages'; wrap.appendChild(h1);
    var grid=document.createElement('div'); grid.className='grid'; wrap.appendChild(grid);
    grid.appendChild(card('#/learn','← Back to Learning',''));
    try{
      var tracks=await getJSON('api/lessons/tracks.json');
      tracks.forEach(t=>grid.appendChild(card('#/learn/'+t.trackId, t.title, null)));
    }catch(e){
      var err=document.createElement('div'); err.textContent='Failed to load tracks.json: '+String(e); wrap.appendChild(err);
    }
    host.innerHTML=''; host.appendChild(wrap); window.scrollTo(0,0);
  }
  function route(){ var h=(location.hash||'').toLowerCase(); if(h==='#/learn/languages') render(); else removeOverlay(); }
  window.addEventListener('hashchange', route); document.addEventListener('DOMContentLoaded', route); route();
})();
</script>

<script>
/* BP_TRACK_PAGE v2 — full-screen overlay for #/learn/<trackId> (modules → lessons) */
(function(){
  var HOST_ID='bp-track-overlay', CSS_ID='bp-track-css';
  function ensureOverlay(){
    var host=document.getElementById(HOST_ID);
    if(!host){
      host=document.createElement('div'); host.id=HOST_ID;
      host.style.position='fixed'; host.style.inset='0'; host.style.zIndex='2147483647';
      host.style.overflow='auto'; host.style.background='#ffffff'; host.style.color='#111111';
      host.style.fontFamily='system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif'; host.style.lineHeight='1.5';
      document.body.appendChild(host);
    }
    var css=document.getElementById(CSS_ID);
    if(!css){
      css=document.createElement('style'); css.id=CSS_ID; css.textContent=[
        '#'+HOST_ID+' .wrap{max-width:1200px;margin:0 auto;padding:24px;}',
        '#'+HOST_ID+' h1{font-size:28px;margin:0 0 16px 0;font-weight:700;}',
        '#'+HOST_ID+' .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px;}',
        '#'+HOST_ID+' .card{padding:16px;border:1px solid #e5e7eb;border-radius:
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Black Pyramid — Portal</title>
  <style>
    /* BP PORTAL (inline, immutable) */
    :root{
      --bg:#0e0b1f; --bg2:#0b0a18; --panel:#17152b; --muted:#a7afc3; --text:#f3f5fb;
      --border:rgba(178,156,255,.22); --badge:rgba(178,156,255,.3);
      --accent:#6e3cff; --accent2:#9d7bff; --accentGlow:rgba(110,60,255,.35);
      --r-lg:18px; --r-md:12px; --gap:12px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      background:
        radial-gradient(1200px 800px at -10% -10%, rgba(110,60,255,.12), transparent 55%),
        radial-gradient(1100px 700px at 120% 0%, rgba(157,123,255,.08), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2) 60%, var(--bg));
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }
    .wrap{max-width:1080px;margin:0 auto;padding:20px}
    nav{position:sticky;top:0;z-index:10;background:rgba(14,11,31,.85);backdrop-filter:saturate(180%) blur(8px);
        border-bottom:1px solid var(--border)}
    .bar{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px}
    .brand{font-weight:700;letter-spacing:.3px}
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{padding:8px 12px;border:1px solid var(--border);border-radius:999px;text-decoration:none;color:inherit;
         background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01))}
    .tab.active{box-shadow:0 0 0 2px var(--accentGlow)}
    main{min-height:60vh}
    .view h2{margin:0 0 8px 0;font-size:clamp(1.25rem,2.2vw,1.5rem)}
    .hero{margin:8px 0;padding:24px;border:1px solid var(--border);border-radius:22px;
          background:linear-gradient(180deg, rgba(110,60,255,.12), rgba(110,60,255,.02))}
    .hero h1{margin:0 0 6px 0;font-size:clamp(1.75rem,3vw,2.25rem)}
    .hero p{margin:0 0 12px 0;opacity:.92}
    .quick-actions a{display:inline-block;margin:6px 8px 0 0;padding:9px 13px;border:1px solid var(--border);
                     border-radius:12px;text-decoration:none;background:rgba(255,255,255,.03)}
    .tile-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;margin-top:12px}
    .tile{display:grid;grid-auto-rows:min-content 1fr;gap:4px;padding:16px;border:1px solid var(--border);border-radius:16px;
          text-decoration:none;color:inherit;background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015))}
    .tile:hover{box-shadow:0 14px 36px rgba(110,60,255,.18);border-color:var(--accentGlow)}
    .tile h4{margin:0 0 2px 0;font-size:1.05rem}
    .tile p{margin:0;opacity:.9;font-size:.95rem}
    .badge{justify-self:start;margin-top:8px;padding:3px 10px;border:1px solid var(--badge);border-radius:999px;font-size:.82rem;opacity:.96}
    .toolbar{display:flex;gap:8px;align-items:center;margin:10px 0 14px}
    .btn{display:inline-block;padding:8px 12px;border:1px solid var(--border);border-radius:10px;text-decoration:none;background:rgba(255,255,255,.03)}
    .btn.ghost{opacity:.85}
    footer{opacity:.7;font-size:.8rem;padding:12px 16px 24px}
    @media (max-width:900px){ .tile-grid{grid-template-columns:repeat(2,minmax(0,1fr))} }
    @media (max-width:600px){ .tile-grid{grid-template-columns:1fr} }
  /* purple-tweak v1 (force strong purple + anchor color) */
:root{ --accent:#8b5cf6; --accent2:#a78bfa; }
a{ color:inherit; text-decoration:none }
a:hover{ filter:brightness(1.08) }
body{
  background:
    radial-gradient(1200px 800px at -10% -10%, rgba(139,92,246,.18), transparent 55%),
    radial-gradient(1100px 700px at 120% 0%, rgba(167,139,250,.12), transparent 60%),
    linear-gradient(180deg, #0f0a1f, #0b0818 60%, #0f0a1f);
}
.tile:hover{ box-shadow:0 14px 36px rgba(139,92,246,.22); border-color:rgba(139,92,246,.45) }
.tab.active{ box-shadow:0 0 0 2px rgba(139,92,246,.45) }
</style>
</head>
<body>
  <nav><div class="bar">
    <div class="brand">Black Pyramid</div>
    <div class="tabs">
      <a class="tab" data-tab="home"  href="#/home">Home</a>
      <a class="tab" data-tab="learn" href="#/learn">Learning</a>
      <a class="tab" data-tab="lounge" href="#/lounge">Lounge</a>
    </div>
  </div></nav>

  <main id="app" class="wrap"></main>

  <!-- HOME -->
  <template id="tpl-home">
    <section class="view">
      <div class="hero">
        <h1>Black Pyramid</h1>
        <p>Mythic OS for Learning, Hacking, and Mastery.</p>
        <div class="quick-actions">
          <a href="#/learn">Enter Learning</a>
          <a href="#/lounge">Downtime Lounge</a>
          <a href="#/project">Project Station</a>
          <a href="#/cyber">Cybertools</a>
          <a href="#/help">Help / FAQ</a>
        </div>
      </div>

      <div class="tile-grid">
        <a class="tile" href="#/learn"><div><h4>Learning Hub</h4><p>Python, JS, C++, Cyber, CTFs…</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/lounge"><div><h4>Downtime Lounge</h4><p>Playlists, timers, games</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/project"><div><h4>Project Station</h4><p>Capstones & repos</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/cyber"><div><h4>Cybertools Vault</h4><p>Snippets & BYOT</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/help"><div><h4>Help / FAQ</h4><p>Guides & troubleshooting</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/ai"><div><h4>Anubis AI</h4><p>Co-pilot</p></div><div class="badge">Beta</div></a>
        <a class="tile" href="#/identity"><div><h4>Identity Hub</h4><p>Account / profile</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/xp"><div><h4>XP / Achievements</h4><p>Progress overview</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/career"><div><h4>Career Tools</h4><p>Portfolio & CV</p></div><div class="badge">Soon</div></a>
  <a class="tile" href="#/lore"><div><h4>Lore &amp; Expansions</h4><p>World, factions, unlocks</p></div><div class="badge">Lore</div></a>
  <a class="tile" href="#/sandbox"><div><h4>Sandboxes / Playgrounds</h4><p>Scratchpads & tools</p></div><div class="badge">Lab</div></a>

      </div>

      <div class="footer">Build: portal-standalone</div>
    </section>
  </template>

  <!-- LEARNING HUB (tracks) -->
  <template id="tpl-learn">
    <section class="view" id="view-learn">
      <h2>Learning Hub</h2>
      <p class="muted">Select a track to enter.</p>
      <div class="tile-grid">
        <a class="tile" href="#/learn"><div><h4>Coding</h4><p>Python, JS, C++</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/learn/cyber"><div><h4>Cybersecurity</h4><p>Foundations, Web, Network, Bounty</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/learn/ctf"><div><h4>CTFs</h4><p>Wargames, Crypto, Rev, Pwn</p></div><div class="badge">Practice</div></a>
      </div>
    </section>
  </template>

  <!-- CODING (languages) -->
  <template id="tpl-learn-coding">
    <section class="view">
      <div class="toolbar"><a class="btn" href="#/learn">← Learning Hub</a><a class="btn ghost" href="#/home">Home</a></div>
      <h2>Coding</h2>
      <p class="muted">Pick a language.</p>
      <div class="tile-grid">
        <a class="tile" href="#/learn/python"><div><h4>Python</h4><p>Beginner → Advanced</p></div><div class="badge">Start here</div></a>
        <a class="tile" href="#/learn/js"><div><h4>JavaScript</h4><p>Frontend + Node basics</p></div><div class="badge">Core</div></a>
        <a class="tile" href="#/learn/cpp"><div><h4>C++</h4><p>Language & tooling basics</p></div><div class="badge">Core</div></a>
      </div>
    </section>
  </template>

  






















</body>
</html>

 = Get-Content MythicCore\www\portal.standalone.html -Raw

<script>
/* BP_LANG_PAGE v7 — fixed overlay for #/learn/languages (own CSS; dark text; standalone grid) */
(function(){
  var HOST_ID = 'bp-lang-overlay';
  var CSS_ID  = 'bp-lang-css';

  function ensureOverlay(){
    var host = document.getElementById(HOST_ID);
    if(!host){
      host = document.createElement('div');
      host.id = HOST_ID;
      host.style.position = 'fixed';
      host.style.inset = '0';
      host.style.zIndex = '2147483647';
      host.style.overflow = 'auto';
      host.style.background = '#ffffff';
      host.style.color = '#111111';                 // force dark text
      host.style.fontFamily = 'system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif';
      host.style.lineHeight = '1.5';
      document.body.appendChild(host);
    }
    // (Re)attach CSS each render to be safe
    var css = document.getElementById(CSS_ID);
    if(!css){
      css = document.createElement('style'); css.id = CSS_ID;
      css.textContent = [
        '#'+HOST_ID+' .wrap{max-width:1200px;margin:0 auto;padding:24px;}',
        '#'+HOST_ID+' h1{font-size:28px;margin:0 0 16px 0;font-weight:700;}',
        '#'+HOST_ID+' .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;}',
        '#'+HOST_ID+' a.card{display:block;padding:16px;border:1px solid #e5e7eb;border-radius:12px;background:#f9fafb;text-decoration:none;color:inherit;box-shadow:0 1px 2px rgba(0,0,0,.05);transition:.15s;}',
        '#'+HOST_ID+' a.card:hover{box-shadow:0 4px 12px rgba(0,0,0,.12);transform:translateY(-1px);} ',
        '#'+HOST_ID+' .title{font-weight:600;font-size:16px;}',
        '#'+HOST_ID+' .sub{opacity:.75;font-size:13px;margin-top:4px;}',
        '@media (prefers-color-scheme: dark){ #'+HOST_ID+'{background:#0b0b0f;color:#eaeaea;} #'+HOST_ID+' a.card{background:#13131a;border-color:#1f1f2a;} }'
      ].join('\n');
      document.head.appendChild(css);
    }
    return host;
  }

  function removeOverlay(){
    var host = document.getElementById(HOST_ID);
    if(host && host.parentElement) host.parentElement.removeChild(host);
    var css = document.getElementById(CSS_ID);
    if(css && css.parentElement) css.parentElement.removeChild(css);
  }

  async function getJSON(u){
    var url = (u.startsWith('./')?u:'./'+u) + ((u.indexOf('?')>=0?'&':'?') + 'bust=' + Date.now());
    var r = await fetch(url, {cache:'no-store'});
    if(!r.ok) throw new Error('HTTP '+r.status+' '+url);
    return r.json();
  }

  function card(href, title, sub){
    var a = document.createElement('a'); a.className = 'card'; a.href = href;
    var t = document.createElement('div'); t.className = 'title'; t.textContent = title; a.appendChild(t);
    if(sub){ var s = document.createElement('div'); s.className = 'sub'; s.textContent = sub; a.appendChild(s); }
    return a;
  }

  async function render(){
    var host = ensureOverlay();
    // scaffold
    var wrap = document.createElement('div'); wrap.className = 'wrap';
    var h1 = document.createElement('h1'); h1.textContent = 'Languages'; wrap.appendChild(h1);
    var grid = document.createElement('div'); grid.className='grid'; wrap.appendChild(grid);

    // Back
    grid.appendChild(card('#/learn','← Back to Learning',''));

    try{
      var tracks = await getJSON('api/lessons/tracks.json');
      tracks.forEach(function(t){ grid.appendChild(card('#/learn/'+t.trackId, t.title, null)); });
    } catch(e){
      var err = document.createElement('div');
      err.textContent = 'Failed to load tracks.json: ' + String(e);
      wrap.appendChild(err);
    }

    host.innerHTML = ''; host.appendChild(wrap);
    window.scrollTo(0,0);
  }

  function route(){
    var h = (location.hash||'').toLowerCase();
    if (h === '#/learn/languages') render();
    else removeOverlay();
  }
  window.addEventListener('hashchange', route);
  document.addEventListener('DOMContentLoaded', route);
  route();
})();
</script> = @"
<script>
/* BP_LEARN_WIRE v9 — intercept 'Coding' on #/learn (capture) + href rewrite */
(function(){
  function isHub(){ return (location.hash||'').toLowerCase() === '#/learn'; }
  function onClickCapture(ev){
    if(!isHub()) return;
    var el = ev.target && ev.target.closest && ev.target.closest('a,button,[role="button"],.tile,.card');
    if(!el) return;
    var txt = (el.innerText || el.textContent || '').replace(/\s+/g,' ').trim();
    if(!/\bcoding\b/i.test(txt)) return;
    ev.preventDefault(); ev.stopPropagation();
    location.hash = '#/learn/languages';
  }
  function rewrite(){
    if(!isHub()) return;
    Array.from(document.querySelectorAll('a,button,[role="button"],.tile,.card')).forEach(function(n){
      if(n.__bpWired) return;
      var txt=(n.innerText||n.textContent||'').replace(/\s+/g,' ').trim();
      if(!/\bcoding\b/i.test(txt)) return;
      var a = (n.tagName==='A')?n:(n.closest?n.closest('a'):null);
      if(a) a.setAttribute('href','#/learn/languages');
      n.__bpWired = true;
    });
  }
  if(!window.__bp_learn_wire_v9){
    window.__bp_learn_wire_v9 = true;
    document.addEventListener('click', onClickCapture, true);
    window.addEventListener('hashchange', ()=>setTimeout(rewrite,0));
    document.addEventListener('DOMContentLoaded', ()=>setTimeout(rewrite,0));
    setTimeout(rewrite,0);
  }
})();
</script>

<script>
/* BP_LANG_PAGE v8 — full-screen overlay for #/learn/languages (own CSS, dark text) */
(function(){
  var HOST_ID='bp-lang-overlay', CSS_ID='bp-lang-css';
  function ensureOverlay(){
    var host=document.getElementById(HOST_ID);
    if(!host){
      host=document.createElement('div'); host.id=HOST_ID;
      host.style.position='fixed'; host.style.inset='0'; host.style.zIndex='2147483647';
      host.style.overflow='auto'; host.style.background='#ffffff'; host.style.color='#111111';
      host.style.fontFamily='system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif'; host.style.lineHeight='1.5';
      document.body.appendChild(host);
    }
    var css=document.getElementById(CSS_ID);
    if(!css){
      css=document.createElement('style'); css.id=CSS_ID; css.textContent=[
        '#'+HOST_ID+' .wrap{max-width:1200px;margin:0 auto;padding:24px;}',
        '#'+HOST_ID+' h1{font-size:28px;margin:0 0 16px 0;font-weight:700;}',
        '#'+HOST_ID+' .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;}',
        '#'+HOST_ID+' a.card{display:block;padding:16px;border:1px solid #e5e7eb;border-radius:12px;background:#f9fafb;text-decoration:none;color:inherit;box-shadow:0 1px 2px rgba(0,0,0,.05);transition:.15s;}',
        '#'+HOST_ID+' a.card:hover{box-shadow:0 4px 12px rgba(0,0,0,.12);transform:translateY(-1px);} ',
        '#'+HOST_ID+' .title{font-weight:600;font-size:16px;}',
        '#'+HOST_ID+' .sub{opacity:.75;font-size:13px;margin-top:4px;}',
        '@media (prefers-color-scheme: dark){ #'+HOST_ID+'{background:#0b0b0f;color:#eaeaea;} #'+HOST_ID+' a.card{background:#13131a;border-color:#1f1f2a;} }'
      ].join('\n'); document.head.appendChild(css);
    }
    return host;
  }
  function removeOverlay(){
    var host=document.getElementById(HOST_ID); if(host&&host.parentElement) host.parentElement.removeChild(host);
    var css=document.getElementById(CSS_ID); if(css&&css.parentElement) css.parentElement.removeChild(css);
  }
  async function getJSON(u){
    var url=(u.startsWith('./')?u:'./'+u)+((u.indexOf('?')>=0?'&':'?')+'bust='+Date.now());
    var r=await fetch(url,{cache:'no-store'}); if(!r.ok) throw new Error('HTTP '+r.status+' '+url); return r.json();
  }
  function card(href,title,sub){
    var a=document.createElement('a'); a.className='card'; a.href=href;
    var t=document.createElement('div'); t.className='title'; t.textContent=title; a.appendChild(t);
    if(sub){ var s=document.createElement('div'); s.className='sub'; s.textContent=sub; a.appendChild(s); }
    return a;
  }
  async function render(){
    var host=ensureOverlay();
    var wrap=document.createElement('div'); wrap.className='wrap';
    var h1=document.createElement('h1'); h1.textContent='Languages'; wrap.appendChild(h1);
    var grid=document.createElement('div'); grid.className='grid'; wrap.appendChild(grid);
    grid.appendChild(card('#/learn','← Back to Learning',''));
    try{
      var tracks=await getJSON('api/lessons/tracks.json');
      tracks.forEach(t=>grid.appendChild(card('#/learn/'+t.trackId, t.title, null)));
    }catch(e){
      var err=document.createElement('div'); err.textContent='Failed to load tracks.json: '+String(e); wrap.appendChild(err);
    }
    host.innerHTML=''; host.appendChild(wrap); window.scrollTo(0,0);
  }
  function route(){ var h=(location.hash||'').toLowerCase(); if(h==='#/learn/languages') render(); else removeOverlay(); }
  window.addEventListener('hashchange', route); document.addEventListener('DOMContentLoaded', route); route();
})();
</script>

<script>
/* BP_TRACK_PAGE v2 — full-screen overlay for #/learn/<trackId> (modules → lessons) */
(function(){
  var HOST_ID='bp-track-overlay', CSS_ID='bp-track-css';
  function ensureOverlay(){
    var host=document.getElementById(HOST_ID);
    if(!host){
      host=document.createElement('div'); host.id=HOST_ID;
      host.style.position='fixed'; host.style.inset='0'; host.style.zIndex='2147483647';
      host.style.overflow='auto'; host.style.background='#ffffff'; host.style.color='#111111';
      host.style.fontFamily='system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif'; host.style.lineHeight='1.5';
      document.body.appendChild(host);
    }
    var css=document.getElementById(CSS_ID);
    if(!css){
      css=document.createElement('style'); css.id=CSS_ID; css.textContent=[
        '#'+HOST_ID+' .wrap{max-width:1200px;margin:0 auto;padding:24px;}',
        '#'+HOST_ID+' h1{font-size:28px;margin:0 0 16px 0;font-weight:700;}',
        '#'+HOST_ID+' .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px;}',
        '#'+HOST_ID+' .card{padding:16px;border:1px solid #e5e7eb;border-radius:12px;background:#f9fafb;box-shadow:0 1px 2px rgba(0,0,0,.05);} ',
        '#'+HOST_ID+' .modtitle{font-weight:600;margin-bottom:8px;}',
        '#'+HOST_ID+' .pill{display:inline-block;margin:4px 6px;padding:6px 10px;border-radius:999px;border:1px solid #e5e7eb;background:#fff;text-decoration:none;color:inherit;font-size:13px;}',
        '#'+HOST_ID+' .back{display:inline-block;margin-bottom:12px;text-decoration:none;border:1px solid #e5e7eb;padding:8px 12px;border-radius:10px;background:#f9fafb;}',
        '@media (prefers-color-scheme: dark){ #'+HOST_ID+'{background:#0b0b0f;color:#eaeaea;} #'+HOST_ID+' .card{background:#13131a;border-color:#1f1f2a;} #'+HOST_ID+' .pill{background:#0b0b0f;border-color:#1f1f2a;} #'+HOST_ID+' .back{background:#13131a;border-color:#1f1f2a;} }'
      ].join('\n'); document.head.appendChild(css);
    }
    return host;
  }
  function removeOverlay(){
    var host=document.getElementById(HOST_ID); if(host&&host.parentElement) host.parentElement.removeChild(host);
    var css=document.getElementById(CSS_ID); if(css&&css.parentElement) css.parentElement.removeChild(css);
  }
  async function j(u){
    var url=(u.startsWith('./')?u:'./'+u)+((u.indexOf('?')>=0?'&':'?')+'bust='+Date.now());
    var r=await fetch(url,{cache:'no-store'}); if(!r.ok) throw new Error('HTTP '+r.status+' '+url); return r.json();
  }
  function parts(){
    var m=(location.hash||'').match(/^#\/learn\/([^\/]+)(?:\/([^\/]+)\/([^\/]+))?$/i);
    return m?{track:m[1],mod:m[2]||null,lesson:m[3]||null}:null;
  }
  async function render(){
    var p=parts(); if(!p){ removeOverlay(); return; }
    var host=ensureOverlay();
    var wrap=document.createElement('div'); wrap.className='wrap';
    var back=document.createElement('a'); back.className='back'; back.href='#/learn/languages'; back.textContent='← Back to Languages'; wrap.appendChild(back);

    var metaList=await j('api/lessons/tracks.json');
    var meta=metaList.find(t=>(t.trackId||'').toLowerCase()===p.track.toLowerCase());
    var file = meta ? meta.file : ('coding_'+p.track+'.json');

    var data;
    try{ data=await j('api/lessons/'+file); }catch(e){
      wrap.appendChild(document.createTextNode('Failed to load curriculum: '+String(e)));
      host.innerHTML=''; host.appendChild(wrap); window.scrollTo(0,0); return;
    }

    var title=data.title|| (meta?meta.title:p.track);
    var h1=document.createElement('h1'); h1.textContent=title; wrap.appendChild(h1);

    if(!p.mod || !p.lesson){
      var grid=document.createElement('div'); grid.className='grid'; wrap.appendChild(grid);
      (data.modules||[]).forEach(function(m){
        var card=document.createElement('div'); card.className='card';
        var mt=document.createElement('div'); mt.className='modtitle'; mt.textContent=m.title||m.id; card.appendChild(mt);
        var list=document.createElement('div');
        (m.lessons||[]).forEach(function(L){
          var a=document.createElement('a'); a.className='pill'; a.href='#/learn/'+p.track+'/'+m.id+'/'+L.id; a.textContent=L.title || L.id;
          list.appendChild(a);
        });
        if(!m.lessons || !m.lessons.length){ var none=document.createElement('div'); none.textContent='Lessons coming soon.'; card.appendChild(none); }
        card.appendChild(list);
        grid.appendChild(card);
      });
      if(!data.modules || !data.modules.length){ var placeholder=document.createElement('div'); placeholder.textContent='Curriculum will be added here.'; wrap.appendChild(placeholder); }
    } else {
      var mod=(data.modules||[]).find(x=>x.id===p.mod);
      var les=mod? (mod.lessons||[]).find(x=>x.id===p.lesson): null;
      var body=document.createElement('div'); body.innerHTML = (les&&les.body) ? les.body : '<p>Lesson content coming soon.</p>';
      wrap.appendChild(body);
    }

    host.innerHTML=''; host.appendChild(wrap); window.scrollTo(0,0);
  }
  function route(){ var h=(location.hash||'').toLowerCase(); if(h.startsWith('#/learn/')) render(); else removeOverlay(); }
  window.addEventListener('hashchange', route); document.addEventListener('DOMContentLoaded', route); route();
})();
</script>
</body>
</html>

